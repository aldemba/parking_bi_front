<ng-container *ngIf="loading; else content" >
  <app-loader></app-loader>
</ng-container>

<ng-template #content>

  <app-navbar class=""></app-navbar>
  <div class="cont">
    <div class="container-fluid pt-1 mr-4">
      <button class="btn btn-warning" (click)="goBack()">Retour</button>
    </div>
    <div class="container">
      <div class="row">
        <ng-container *ngFor="let reserv of reservations">
          <div class="col-12 col-md-4 col-lg-3 mt-3">
            <div class="card mb-3 shadow maxw" appScalecardadmin>
              <div class="row g-0">
                <div class="col-md-5">
                  <img src="data:image/PNG;base64, {{reserv.image}}" class="img-fluid rounded-start haut" alt="..." />
                </div>
                <div class="col-md-7">
                  <div class="card-body">
                    <h5 class="card-title">{{reserv.nom_complet}}</h5>
                    <p class="card-text">{{reserv.adresse}}</p>
                    <p class="card-text">{{reserv.telephone}} </p>
                    <p class="card-text">
                       <i class="fa fa-eye text-warning me-3" data-toggle="tooltip" data-placement="top" title="Voir details" (click)="afficherDetailsVoiture(reserv)" data-bs-toggle="modal" data-bs-target="#myModal"></i> 
                      <i class="fas fa-edit text-dark me-3" data-toggle="tooltip" data-placement="top" title="Editer"
                      (click)="redirectToEditR(reserv.id)"></i>
                      <!--<i class="fas fa-trash text-danger me-3" data-toggle="tooltip" data-placement="top"
                        title="Supprimer"></i>-->
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

</ng-template>

<div class="modal posi" id="myModal">
  <div class="modal-dialog posi modal-dialog-centered modal-dialog-scrollable modal-xl">
    <div class="modal-content tall">
      <div class="modal-header">
        <h1 class="h5 modal-title">Details Location</h1>
        <button
          class="btn-close"
          type="button"
          data-bs-dismiss="modal"
        ></button>
      </div>
      <div class="modal-body d-flex">
        <div>
          <img
            class="imgbis d-none d-lg-block"
            src="data:image/PNG;base64, {{ reservSelect?.image }}"
            alt=""
          />
        </div>
        <div>

        <div class="d-flex flex-column spac">
          <span class="h5 mt-2 visite-date">Client: {{ reservSelect?.nom_complet }}</span>
          <hr>
          <span class="h5 mt-2 visite-date">Adresse: {{ reservSelect?.adresse }}</span>
          <hr>
          <span class="h5 mt-2 visite-date">Téléphone: {{ reservSelect?.telephone }}</span>
          <hr>
          <span class="h5 visite-date">Voiture: {{ reservSelect?.voiture.nom }} </span>
          <hr>
          <span class="h5 mt-2 visite-date">Début location: {{ reservSelect?.date_debut_reservation | date:"dd-MM-yyyy" }}</span>
          <hr>
          <span class="h5 mt-2 visite-date">Fin location: {{ reservSelect?.date_fin_reservation | date:"dd-MM-yyyy" }} </span>
          <hr>
          <!--<span class="h5 mt-2 visite-date">Matricule: {{ reservSelect?.voiture.matricule }}</span>
          <hr>-->
          <span class="h5 mt-2 justify-content-between">
            <p>Image Voiture:</p>  
             <img
            class="imgb"
            src="data:image/PNG;base64, {{ reservSelect?.voiture.image }}"
            alt=""
          /></span>

          <!--<span class="h4 mt-2 visite-date">Visite Technique:</span>
          <hr>
          <span class="h4 mt-2">Assurance: </span>
          <hr>
          <span class="h4 mt-2">État:</span>-->

        </div>
      </div>
    </div>
  </div>
</div>